<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Seminar: Shadowing in JavaScript</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }
        /* Simple transition for slide content */
        .slide-content {
            transition: opacity 0.5s ease-in-out;
        }
    </style>
</head>
<body class="bg-gray-100 dark:bg-gray-900 text-gray-900 dark:text-gray-100 flex items-center justify-center min-h-screen">

    <div class="w-screen h-screen">
        <!-- The style attribute here enforces the 16:9 aspect ratio -->
        <div id="presentation-container" class="bg-white dark:bg-gray-800 shadow-2xl overflow-hidden flex flex-col w-full h-full">
            
            <!-- Slide Content Area -->
            <div id="slide-content" class="flex-grow p-12 md:p-16 slide-content overflow-y-auto">
                <h1 id="slide-title" class="text-5xl md:text-6xl font-bold text-indigo-600 dark:text-indigo-400 mb-8"></h1>
                <div id="slide-body" class="text-2xl md:text-3xl space-y-5"></div>
            </div>

            <!-- Footer with Navigation and Counter -->
            <div class="bg-gray-50 dark:bg-gray-700 p-4 border-t border-gray-200 dark:border-gray-600 flex items-center justify-between flex-shrink-0">
                <span id="slide-counter" class="text-sm font-medium text-gray-600 dark:text-gray-300"></span>
                <div class="flex space-x-2">
                    <button id="prev-btn" class="px-4 py-2 bg-indigo-600 text-white rounded-lg shadow-md hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-opacity-50 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors">
                        Previous
                    </button>
                    <button id="next-btn" class="px-4 py-2 bg-indigo-600 text-white rounded-lg shadow-md hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-opacity-50 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors">
                        Next
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Preloaded video element, hidden by default -->
    <video id="preloaded-video" class="w-full h-full object-cover" src="https://res.cloudinary.com/dokuutvks/video/upload/videoplayback_5_qswhjc.mp4" autoplay muted loop playsinline style="display: none;"></video>

    <script>
        // --- Presentation Data ---
        const slides = [
            {
                title: "Shadowing in JavaScript",
                content: `<p class="text-4xl">Understanding Scope and Variable Overlapping</p><p class="mt-8 text-gray-500">A seminar on a core concept in JS.</p>`
            },
            {
                title: "What is Shadowing?",
                content: `
                    <ul class="list-disc pl-8 space-y-4">
                        <li>Shadowing occurs when a variable declared within a certain scope (e.g., a function or a block) has the same name as a variable in an outer scope.</li>
                        <li>When this happens, the inner variable "shadows" or hides the outer variable.</li>
                        <li>Accessing the variable name within the inner scope will refer to the inner variable.</li>
                    </ul>
                `
            },
            {
                title: "Example: Variable Shadowing",
                content: `
                    <p class="mb-4 text-2xl">An outer variable is shadowed by an inner variable within a specific block.</p>
                    <pre class="bg-gray-200 dark:bg-gray-900 p-4 rounded-lg text-xl h-full"><code class="language-js">
let pm = "Narendra Modi";

{
    let pm = "Rahul Gandhi";
    console.log("During voting: " + pm);
}

console.log("After result: " + pm);
                    </code></pre>
                `
            },
            {
                title: "Output & Explanation",
                content: `
                    <div class="flex flex-col md:flex-row gap-6 h-full">
                        <div class="w-full md:w-1/2 flex flex-col">
                            <p class="mb-2 text-xl font-semibold flex-shrink-0">Console Output:</p>
                            <pre class="bg-gray-900 text-white p-4 rounded-lg text-xl flex-grow"><code class="language-console">
> During voting: Rahul Gandhi
> After result: Narendra Modi
                            </code></pre>
                        </div>
                        <div class="w-full md:w-1/2 flex flex-col">
                             <p class="mb-2 text-xl font-semibold flex-shrink-0">Le Rahul Gandhi :</p>
                             <!-- This div is now a placeholder for the preloaded video -->
                             <div id="video-placeholder" class="w-full flex-grow rounded-lg overflow-hidden"></div>
                        </div>
                    </div>
                `
            },
            {
                title: "The Scope Chain",
                content: `
                    <ul class="list-disc pl-8 space-y-4">
                        <li>When you use a variable, JavaScript looks for it in the current scope.</li>
                        <li>If it doesn't find it, it looks in the outer scope.</li>
                        <li>This continues until it reaches the global scope.</li>
                        <li>Shadowing happens when the lookup finds a variable in a closer, inner scope first.</li>
                    </ul>
                `
            },
            {
                title: "Types of Shadowing",
                content: `
                    <ul class="list-disc pl-8 space-y-4">
                        <li><strong>Variable Shadowing:</strong> As seen in the previous example. Can happen with <code>let</code>, <code>const</code>, or <code>var</code>.</li>
                        <li><strong>Function Shadowing:</strong> A function in an inner scope can shadow a function in an outer scope.</li>
                        <li><strong>Parameter Shadowing:</strong> A function parameter can shadow a variable from an outer scope.</li>
                    </ul>
                `
            },
            {
                title: "Function & Parameter Shadowing",
                content: `
                    <div class="flex flex-col md:flex-row gap-6 h-full">
                        <div class="w-full md:w-1/2 flex flex-col">
                            <p class="mb-2 text-xl font-semibold flex-shrink-0">Function Shadowing:</p>
                            <pre class="bg-gray-200 dark:bg-gray-900 p-4 rounded-lg text-lg flex-grow"><code class="language-js">
function sayHello() {
  console.log("Outer Hello");
}

function greet() {
  function sayHello() { // Shadows outer function
    console.log("Inner Hello");
  }
  sayHello();
}

greet(); // Output: Inner Hello
                            </code></pre>
                        </div>
                        <div class="w-full md:w-1/2 flex flex-col">
                             <p class="mb-2 text-xl font-semibold flex-shrink-0">Parameter Shadowing:</p>
                             <pre class="bg-gray-200 dark:bg-gray-900 p-4 rounded-lg text-lg flex-grow"><code class="language-js">
let user = "Alice";

function welcome(user) { // Parameter shadows outer let
  console.log("Welcome, " + user);
}

welcome("Bob"); // Output: Welcome, Bob
console.log(user); // Output: Alice
                            </code></pre>
                        </div>
                    </div>
                `
            },
            {
                title: "Advantages of Shadowing",
                content: `
                    <ul class="list-disc pl-8 space-y-4">
                        <li><strong>Encapsulation:</strong> Allows inner functions to operate independently without accidentally modifying outer variables.</li>
                        <li><strong>Reduced Namespace Pollution:</strong> Prevents the need to create many slightly different variable names (e.g., <code>data1</code>, <code>data2</code>).</li>
                        <li><strong>Convenience:</strong> Useful in short-lived scopes like loops where reusing common names like <code>i</code> or <code>item</code> is intuitive.</li>
                    </ul>
                `
            },
            {
                title: "Disadvantages of Shadowing",
                content: `
                    <ul class="list-disc pl-8 space-y-4">
                        <li><strong>Reduced Readability:</strong> Makes it harder to know which variable is being accessed at a glance, increasing cognitive load.</li>
                        <li><strong>Unintended Behavior:</strong> Can lead to tricky bugs where you think you're modifying an outer variable, but you're only changing the inner one.</li>
                        <li><strong>Difficult Debugging:</strong> Tracing the flow of data becomes more complex when the same variable name refers to different values.</li>
                    </ul>
                `
            },
            {
                title: "Common Uses",
                content: `
                    <ul class="list-disc pl-8 space-y-4">
                        <li><strong>Function Parameters:</strong> The most common and accepted use. A parameter naturally shadows any outer variable with the same name.</li>
                        <li><strong>Loops:</strong> Reusing a counter variable like <code>i</code> inside nested loops without conflict.</li>
                        <li><strong>Helper Functions:</strong> An inner utility function can safely reuse generic variable names without affecting the parent function's state.</li>
                    </ul>
                `
            },
            {
                title: "Thank You!",
                content: `<p class="text-4xl">Questions?</p>`
            }
        ];

        // --- Presentation Logic ---
        let currentSlide = 0;

        const slideTitleEl = document.getElementById('slide-title');
        const slideBodyEl = document.getElementById('slide-body');
        const slideContentEl = document.getElementById('slide-content');
        const slideCounterEl = document.getElementById('slide-counter');
        const prevBtn = document.getElementById('prev-btn');
        const nextBtn = document.getElementById('next-btn');
        
        const preloadedVideo = document.getElementById('preloaded-video');

        function showSlide(index) {
            preloadedVideo.pause();
            slideContentEl.style.opacity = 0;

            setTimeout(() => {
                const slide = slides[index];
                slideTitleEl.textContent = slide.title;
                slideBodyEl.innerHTML = slide.content;

                if (slide.title === "Output & Explanation") {
                    const placeholder = document.getElementById('video-placeholder');
                    if (placeholder) {
                        placeholder.appendChild(preloadedVideo);
                        preloadedVideo.style.display = 'block';
                        preloadedVideo.play().catch(error => console.log("Autoplay prevented: ", error));
                    }
                }

                slideCounterEl.textContent = `Slide ${index + 1} of ${slides.length}`;
                prevBtn.disabled = index === 0;
                nextBtn.disabled = index === slides.length - 1;
                slideContentEl.style.opacity = 1;
            }, 300);
        }

        function changeSlide(n) {
            currentSlide += n;
            if (currentSlide >= 0 && currentSlide < slides.length) {
                showSlide(currentSlide);
            } else {
                currentSlide = Math.max(0, Math.min(slides.length - 1, currentSlide));
            }
        }
        
        // Event Listeners
        prevBtn.addEventListener('click', () => changeSlide(-1));
        nextBtn.addEventListener('click', () => changeSlide(1));
        
        document.addEventListener('keydown', (e) => {
            if (e.key === 'ArrowRight') {
                if(currentSlide < slides.length - 1) changeSlide(1);
            } else if (e.key === 'ArrowLeft') {
                if(currentSlide > 0) changeSlide(-1);
            }
        });

        window.onload = () => {
            showSlide(currentSlide);
        };
    </script>
</body>
</html>
